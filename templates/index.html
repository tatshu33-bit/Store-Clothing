{% extends "base.html" %}
{% block content %}
  <!-- Hero Section -->
  <div class="row mb-5">
    <div class="col">
      <div class="p-5 bg-gradient rounded-3 shadow" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <div class="container-fluid py-3">
          <h1 class="display-4 fw-bold">Ласкаво просимо до ClothesShop</h1>
          <p class="fs-4">Стильний одяг, швидка доставка, зручний кошик та відгуки клієнтів.</p>
          <p class="lead mb-4">Знайдіть ідеальний одяг для себе та своїх близьких!</p>
          <a class="btn btn-light btn-lg px-4" href="{{ url_for('shop.shop') }}">
            <i class="bi bi-bag"></i> Перейти до магазину
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Features Section -->
  <div class="row mb-5 text-center">
    <div class="col-md-4 mb-3">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-4">
          <i class="bi bi-truck fs-1 text-primary mb-3"></i>
          <h5 class="card-title">Швидка доставка</h5>
          <p class="card-text">Доставка по всій Україні за 1-3 дні</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-4">
          <i class="bi bi-shield-check fs-1 text-success mb-3"></i>
          <h5 class="card-title">Гарантія якості</h5>
          <p class="card-text">Тільки оригінальні товари від перевірених виробників</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-4">
          <i class="bi bi-arrow-repeat fs-1 text-warning mb-3"></i>
          <h5 class="card-title">Легке повернення</h5>
          <p class="card-text">Повернення та обмін протягом 14 днів</p>
        </div>
      </div>
    </div>
  </div>

  <h3 class="mb-4"><i class="bi bi-star-fill text-warning"></i> Популярні товари</h3>
  <div class="row">
    {% for p in products %}
      <div class="col-md-4 col-lg-3 mb-4">
        <div class="card h-100 shadow-sm hover-card">
          <img src="{{ p.image_url }}" class="card-img-top" style="height:200px;object-fit:cover" alt="{{ p.title }}">
          <div class="card-body d-flex flex-column">
            <h6 class="card-title">{{ p.title }}</h6>
            <p class="card-text text-muted small">{{ p.description[:50] }}...</p>
            {% if p.rating %}
              <div class="mb-2">
                <span class="text-warning small">
                  {% for i in range(p.rating|int) %}★{% endfor %}
                </span>
              </div>
            {% endif %}
            <p class="fw-bold text-primary mt-auto">{{ "%.2f"|format(p.price) }} грн</p>
            <div class="d-grid gap-2">
              <a href="{{ url_for('shop.product', pid=p.id) }}" class="btn btn-sm btn-outline-primary">Детальніше</a>
              {% if p.stock and p.stock > 0 %}
                <form method="post" action="{{ url_for('shop.cart_add', pid=p.id) }}">
                  <input type="hidden" name="quantity" value="1">
                  <button class="btn btn-sm btn-success w-100">Додати</button>
                </form>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  <div class="text-center my-4">
    <a href="{{ url_for('shop.shop') }}" class="btn btn-primary btn-lg">
      <i class="bi bi-arrow-right"></i> Дивитись всі товари
    </a>
  </div>

  <hr class="my-5">

  <!-- About Section -->
  <div id="about" class="row mb-5">
    <div class="col-lg-6">
      <h3><i class="bi bi-info-circle"></i> Про нас</h3>
      <p class="lead">Ми - місцевий магазин одягу з багаторічним досвідом</p>
      <p>ClothesShop пропонує широкий асортимент якісного одягу для всієї родини. Наша місія - робити моду доступною для кожного, зберігаючи високі стандарти якості.</p>
      <ul class="list-unstyled">
        <li><i class="bi bi-check-circle text-success"></i> Понад 1000 товарів в каталозі</li>
        <li><i class="bi bi-check-circle text-success"></i> Доставка по всій Україні</li>
        <li><i class="bi bi-check-circle text-success"></i> Консультація експертів</li>
        <li><i class="bi bi-check-circle text-success"></i> Система лояльності</li>
      </ul>
    </div>
    <div class="col-lg-6">
      <img src="https://picsum.photos/seed/about/600/400" alt="Про нас" class="img-fluid rounded shadow">
    </div>
  </div>

  <style>
    .hover-card {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .hover-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2) !important;
    }
  </style>
{% endblock %}
